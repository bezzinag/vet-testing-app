<h2 class="mb-3">Update Test</h2>

<form *ngIf="testForm" [formGroup]="testForm" (ngSubmit)="onSubmit()" class="form-container">

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div class="form-group mb-3">
    <label for="vetReg">Vet Reg. Number:</label>
    <input id="vetReg" formControlName="vetRegistrationNumber" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="petType">Pet Type:</label>
    <select id="petType" formControlName="petType" class="form-select">
      <option *ngFor="let type of petTypes" [value]="type">{{ type }}</option>
    </select>
  </div>

  <div class="form-group mb-3">
    <label for="microchip">Microchip No:</label>
    <input id="microchip" formControlName="petMicrochipNumber" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="ownerId">Owner ID:</label>
    <input id="ownerId" formControlName="ownerIdCardNumber" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="firstName">First Name:</label>
    <input id="firstName" formControlName="ownerFirstName" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="lastName">Last Name:</label>
    <input id="lastName" formControlName="ownerLastName" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="contact">Contact No:</label>
    <input id="contact" formControlName="ownerContactNumber" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="email">Email:</label>
    <input id="email" formControlName="ownerEmailAddress" type="email" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="address">Address:</label>
    <input id="address" formControlName="ownerAddress" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label for="locality">Locality:</label>
    <select id="locality" formControlName="ownerLocality" class="form-select">
      <option *ngFor="let loc of localities" [value]="loc">{{ loc }}</option>
    </select>
  </div>

  <div class="form-group mb-3">
    <label for="postcode">Post Code:</label>
    <input id="postcode" formControlName="ownerPostCode" class="form-control" />
  </div>

  <div class="form-group mb-3">
    <label class="d-block">Virus Detected:</label>
    <div class="form-check form-check-inline">
      <input type="radio" id="virusYes" formControlName="isVirusDetected" class="form-check-input" [value]="true" />
      <label for="virusYes" class="form-check-label">Yes</label>
    </div>
    <div class="form-check form-check-inline">
      <input type="radio" id="virusNo" formControlName="isVirusDetected" class="form-check-input" [value]="false" />
      <label for="virusNo" class="form-check-label">No</label>
    </div>
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="testForm.invalid">Update</button>
</form>

<!-- âœ… DEBUG INFO FOR DEV ONLY -->
<div class="mt-4" *ngIf="testForm">
  <h4>Form Debug Info</h4>
  <pre>Valid: {{ testForm.valid }}</pre>
  <pre>Status: {{ testForm.status }}</pre>
  <pre>Value: {{ testForm.value | json }}</pre>
</div>
